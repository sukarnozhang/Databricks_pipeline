resources:
  jobs:
    Full_ETL:
      name: Full ETL
      tasks:
        - task_key: silver_create_schema
          notebook_task:
            notebook_path: /Workspace/Users/sukarno.zhang@gmail.com/practice_databricks/silver/create_schema
            source: WORKSPACE
          min_retry_interval_millis: 900000
          disable_auto_optimization: true
        - task_key: silver_json_to_delta
          depends_on:
            - task_key: silver_create_schema
          notebook_task:
            notebook_path: /Workspace/Users/sukarno.zhang@gmail.com/practice_databricks/silver/json_to_delta
            source: WORKSPACE
          min_retry_interval_millis: 900000
          disable_auto_optimization: true
        - task_key: stg_methods
          depends_on:
            - task_key: silver_json_to_delta
          notebook_task:
            notebook_path: /Workspace/Users/sukarno.zhang@gmail.com/practice_databricks/gold/staging/stg_methods
            source: WORKSPACE
          min_retry_interval_millis: 900000
          disable_auto_optimization: true
        - task_key: dimension_methods
          depends_on:
            - task_key: stg_methods
          notebook_task:
            notebook_path: /Workspace/Users/sukarno.zhang@gmail.com/practice_databricks/gold/staging/dimension_methods
            source: WORKSPACE
          min_retry_interval_millis: 900000
          disable_auto_optimization: true
        - task_key: stg_results
          depends_on:
            - task_key: silver_json_to_delta
          notebook_task:
            notebook_path: /Workspace/Users/sukarno.zhang@gmail.com/practice_databricks/gold/staging/stg_results
            source: WORKSPACE
          min_retry_interval_millis: 900000
          disable_auto_optimization: true
        - task_key: fact_results
          depends_on:
            - task_key: stg_results
          notebook_task:
            notebook_path: /Workspace/Users/sukarno.zhang@gmail.com/practice_databricks/gold/staging/fact_results
            source: WORKSPACE
          min_retry_interval_millis: 900000
          disable_auto_optimization: true
        - task_key: stg_runs
          depends_on:
            - task_key: silver_json_to_delta
          notebook_task:
            notebook_path: /Workspace/Users/sukarno.zhang@gmail.com/practice_databricks/gold/staging/stg_runs
            source: WORKSPACE
          min_retry_interval_millis: 900000
          disable_auto_optimization: true
        - task_key: dimension_runs
          depends_on:
            - task_key: stg_runs
          notebook_task:
            notebook_path: /Workspace/Users/sukarno.zhang@gmail.com/practice_databricks/gold/staging/dimension_runs
            source: WORKSPACE
          min_retry_interval_millis: 900000
          disable_auto_optimization: true
        - task_key: stg_sst
          depends_on:
            - task_key: silver_json_to_delta
          notebook_task:
            notebook_path: /Workspace/Users/sukarno.zhang@gmail.com/practice_databricks/gold/staging/stg_sst
            source: WORKSPACE
          min_retry_interval_millis: 900000
          disable_auto_optimization: true
        - task_key: fact_sst
          depends_on:
            - task_key: stg_sst
          notebook_task:
            notebook_path: /Workspace/Users/sukarno.zhang@gmail.com/practice_databricks/gold/staging/fact_sst
            source: WORKSPACE
          min_retry_interval_millis: 900000
          disable_auto_optimization: true
        - task_key: stg_systems
          depends_on:
            - task_key: silver_json_to_delta
          notebook_task:
            notebook_path: /Workspace/Users/sukarno.zhang@gmail.com/practice_databricks/gold/staging/stg_systems
            source: WORKSPACE
          min_retry_interval_millis: 900000
          disable_auto_optimization: true
        - task_key: dimension_systems
          depends_on:
            - task_key: stg_systems
          notebook_task:
            notebook_path: /Workspace/Users/sukarno.zhang@gmail.com/practice_databricks/gold/staging/dimension_systems
            source: WORKSPACE
          min_retry_interval_millis: 900000
          disable_auto_optimization: true
        - task_key: stg_users
          depends_on:
            - task_key: silver_json_to_delta
          notebook_task:
            notebook_path: /Workspace/Users/sukarno.zhang@gmail.com/practice_databricks/gold/staging/stg_users
            source: WORKSPACE
          min_retry_interval_millis: 900000
          disable_auto_optimization: true
        - task_key: dimension_users
          depends_on:
            - task_key: stg_users
          notebook_task:
            notebook_path: /Workspace/Users/sukarno.zhang@gmail.com/practice_databricks/gold/staging/dimension_users
            source: WORKSPACE
          min_retry_interval_millis: 900000
          disable_auto_optimization: true
        - task_key: run_sst_result
          depends_on:
            - task_key: dimension_runs
            - task_key: dimension_systems
            - task_key: fact_sst
            - task_key: dimension_users
            - task_key: fact_results
            - task_key: dimension_methods
          notebook_task:
            notebook_path: /Workspace/Users/sukarno.zhang@gmail.com/practice_databricks/gold/serving/run_sst_result
            source: WORKSPACE
          min_retry_interval_millis: 900000
          disable_auto_optimization: true
        - task_key: obt
          depends_on:
            - task_key: run_sst_result
          notebook_task:
            notebook_path: /Workspace/Users/sukarno.zhang@gmail.com/practice_databricks/gold/serving/obt
            source: WORKSPACE
          min_retry_interval_millis: 900000
          disable_auto_optimization: true
      queue:
        enabled: true
      performance_target: STANDARD
